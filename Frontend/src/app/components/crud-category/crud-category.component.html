<div>
  <button
    type="button"
    class="btn btn-success margin-button"
    (click)="openModal(modalData, '')"
  >
    Add
  </button>
  <div class="col-lg-7">
    <div class="card">
      <div class="card-body">
        <h3 class="titulo">Categorias</h3>
        <table class="table">
          <tbody>
            <tr *ngFor="let category of CategoryList">
              <td>{{ category.id }}</td>
              <td>{{ category.name }}</td>
              <td>{{ category.description }}</td>
              <td class="text-right">
                <a
                  href="javascript: void(0);"
                  class="btn btn-info btn-sm"
                  slot="actions"
                  (click)="openModal(modalData, category)"
                >
                  <i class="fe fe-edit mr-1"></i> Edit
                </a>
              </td>

              <td class="text-right">
                <a
                  href="javascript: void(0);"
                  class="btn btn-danger btn-sm"
                  slot="actions"
                  (click)="openConfirmDelete(modalConfirm, category)"
                >
                  <i class="fe fe-trash mr-1"></i> Remove
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<ng-template #modalData let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">
      Categoria
    </h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="closeModalApp()"
    >
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="saveProfileForm" (ngSubmit)="onSubmit()">
      <label for="">Id</label>
      <input
        type="text"
        class="form-control"
        formControlName="id"
        id="id"
        disabled
      />

      <label for="">Nombre</label>
      <input
        type="text"
        class="form-control"
        formControlName="name"
        id="name"
        placeholder=""
      />

      <label for="">Descripcion</label>
      <input
        type="text"
        class="form-control"
        formControlName="description"
        id="description"
        placeholder="Enter Identificator"
      />
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="onSubmit()">
      Save
    </button>
    <button type="button" class="btn btn-secondary" (click)="closeModalApp()">
      Close
    </button>
  </div>
</ng-template>

<ng-template #modalConfirm let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">
      Confirm
    </h4>
  </div>
  <div class="modal-confirm-body">
    <b><p>¿Are you sure to delete this category?</p></b>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="OnDelete()">
      Save
    </button>
    <button type="button" class="btn btn-secondary" (click)="closeModalApp()">
      Close
    </button>
  </div>
</ng-template>

